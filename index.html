<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üîê BYPAS.HUB - Generador de Keys Infinitas</title>
    <style>
        /* ESTILOS OPTIMIZADOS Y MEJORADOS */
        :root {
            --primary: #00a8ff;
            --success: #00ff64;
            --warning: #ffd700;
            --danger: #ff3232;
            --purple: #aa00ff;
            --cyan: #00ffff;
            --pink: #ff00ff;
            --dark-bg: #0a0a1a;
            --darker-bg: #050510;
            --card-bg: rgba(10, 15, 30, 0.95);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background: linear-gradient(135deg, var(--dark-bg) 0%, #1a0a2a 50%, var(--darker-bg) 100%);
            color: #fff;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }
        
        /* Fondo animado */
        .bg-animation {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
            background: 
                radial-gradient(circle at 20% 30%, rgba(0, 168, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 70%, rgba(255, 0, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 80%, rgba(0, 255, 100, 0.1) 0%, transparent 50%);
            animation: bgMove 20s infinite alternate;
        }
        
        @keyframes bgMove {
            0% { transform: translate(0, 0) scale(1); }
            100% { transform: translate(-50px, -50px) scale(1.1); }
        }
        
        /* Part√≠culas */
        #particles-js {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: -1;
        }
        
        /* Contenedor principal */
        .container {
            background: var(--card-bg);
            backdrop-filter: blur(20px);
            padding: 30px;
            border-radius: 25px;
            border: 2px solid var(--primary);
            box-shadow: 
                0 0 80px rgba(0, 168, 255, 0.4),
                0 0 150px rgba(0, 168, 255, 0.2),
                inset 0 0 40px rgba(0, 168, 255, 0.1);
            max-width: 1000px;
            margin: 40px auto;
            position: relative;
            overflow: hidden;
            animation: containerAppear 0.8s ease-out;
        }
        
        @keyframes containerAppear {
            from { 
                opacity: 0; 
                transform: translateY(30px) scale(0.95); 
            }
            to { 
                opacity: 1; 
                transform: translateY(0) scale(1); 
            }
        }
        
        .container::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, 
                var(--primary), #0066ff, var(--success), var(--warning), 
                var(--danger), var(--purple), var(--cyan), var(--primary));
            border-radius: 27px;
            z-index: -1;
            animation: rotateBorder 8s linear infinite;
            opacity: 0.7;
        }
        
        @keyframes rotateBorder {
            0% { filter: hue-rotate(0deg); }
            100% { filter: hue-rotate(360deg); }
        }
        
        /* Header */
        header {
            text-align: center;
            margin-bottom: 40px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 20px;
            border: 1px solid rgba(0, 168, 255, 0.3);
        }
        
        h1 {
            background: linear-gradient(135deg, var(--primary), var(--cyan), var(--pink));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-size: 2.8em;
            margin-bottom: 10px;
            text-shadow: 0 0 30px rgba(0, 168, 255, 0.5);
            animation: glowText 2s infinite alternate;
        }
        
        @keyframes glowText {
            0% { text-shadow: 0 0 20px rgba(0, 168, 255, 0.5); }
            100% { text-shadow: 0 0 40px rgba(0, 168, 255, 0.8), 0 0 60px rgba(0, 255, 255, 0.6); }
        }
        
        .subtitle {
            color: #a0a0ff;
            font-size: 1.1em;
            opacity: 0.9;
        }
        
        /* Badges */
        .badges {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 20px;
        }
        
        .badge {
            background: rgba(0, 168, 255, 0.2);
            border: 1px solid var(--primary);
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.3s;
        }
        
        .badge:hover {
            background: rgba(0, 168, 255, 0.3);
            transform: translateY(-2px);
        }
        
        .badge.infinite {
            background: rgba(255, 0, 255, 0.2);
            border-color: var(--pink);
        }
        
        /* Panel de key generada */
        .key-panel {
            background: linear-gradient(135deg, 
                rgba(20, 25, 40, 0.8), 
                rgba(10, 15, 30, 0.9));
            border: 2px solid var(--primary);
            border-radius: 20px;
            padding: 30px;
            margin: 30px 0;
            text-align: center;
            animation: panelSlide 0.6s ease-out;
        }
        
        @keyframes panelSlide {
            from { opacity: 0; transform: translateX(-30px); }
            to { opacity: 1; transform: translateX(0); }
        }
        
        .key-display {
            background: rgba(0, 0, 0, 0.4);
            border: 2px solid var(--warning);
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            font-size: 1.8em;
            font-weight: bold;
            letter-spacing: 2px;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }
        
        .key-display:hover {
            background: rgba(0, 0, 0, 0.6);
            transform: scale(1.02);
            box-shadow: 0 0 40px rgba(255, 215, 0, 0.3);
        }
        
        .key-display::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, 
                transparent, 
                rgba(255, 255, 255, 0.1), 
                transparent);
            transition: left 0.6s;
        }
        
        .key-display:hover::before {
            left: 100%;
        }
        
        /* Botones */
        .btn {
            background: linear-gradient(135deg, var(--primary), #0066ff);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 12px;
            font-size: 1em;
            font-weight: bold;
            cursor: pointer;
            margin: 10px;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            min-width: 180px;
            position: relative;
            overflow: hidden;
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0, 168, 255, 0.4);
        }
        
        .btn:active {
            transform: translateY(-1px);
        }
        
        .btn-generate {
            background: linear-gradient(135deg, var(--warning), #ffaa00);
        }
        
        .btn-generate:hover {
            box-shadow: 0 10px 25px rgba(255, 215, 0, 0.4);
        }
        
        .btn-success {
            background: linear-gradient(135deg, var(--success), #00cc50);
        }
        
        .btn-success:hover {
            box-shadow: 0 10px 25px rgba(0, 255, 100, 0.4);
        }
        
        .btn-danger {
            background: linear-gradient(135deg, var(--danger), #cc0000);
        }
        
        .btn-danger:hover {
            box-shadow: 0 10px 25px rgba(255, 50, 50, 0.4);
        }
        
        .button-group {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
            margin: 25px 0;
        }
        
        /* Info box */
        .info-box {
            background: rgba(0, 100, 255, 0.15);
            border: 2px solid #6464ff;
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            animation: fadeIn 0.5s ease-out;
        }
        
        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        
        .info-item {
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: 10px;
            border-left: 4px solid var(--primary);
        }
        
        .info-label {
            color: #a0a0ff;
            font-size: 0.9em;
            margin-bottom: 5px;
        }
        
        .info-value {
            color: #fff;
            font-size: 1.1em;
            font-weight: bold;
        }
        
        /* URL box */
        .url-box {
            background: rgba(0, 0, 0, 0.4);
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            border-left: 4px solid var(--success);
            font-family: 'Courier New', monospace;
            word-break: break-all;
            font-size: 0.95em;
        }
        
        /* Notificaciones */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(0, 255, 100, 0.9);
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            font-weight: bold;
            z-index: 10000;
            animation: slideInRight 0.3s, slideOutRight 0.3s 2.7s forwards;
            max-width: 400px;
        }
        
        @keyframes slideInRight {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        
        @keyframes slideOutRight {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(100%); opacity: 0; }
        }
        
        /* Footer */
        footer {
            text-align: center;
            padding: 30px;
            color: #888;
            margin-top: 40px;
            border-top: 1px solid rgba(100, 100, 255, 0.2);
        }
        
        /* Animaciones */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        /* Loader */
        .loader {
            display: inline-block;
            width: 40px;
            height: 40px;
            border: 4px solid rgba(0, 168, 255, 0.3);
            border-radius: 50%;
            border-top-color: var(--primary);
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .container {
                padding: 20px;
                margin: 20px;
            }
            
            h1 {
                font-size: 2em;
            }
            
            .key-display {
                font-size: 1.4em;
                padding: 15px;
            }
            
            .button-group {
                flex-direction: column;
            }
            
            .btn {
                width: 100%;
                margin: 5px 0;
            }
        }
        
        /* Efecto de copiado */
        .copied-effect {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 100px;
            height: 100px;
            background: radial-gradient(circle, rgba(0, 255, 100, 0.3) 0%, transparent 70%);
            border-radius: 50%;
            transform: translate(-50%, -50%) scale(0);
            animation: copyPulse 0.6s ease-out;
        }
        
        @keyframes copyPulse {
            0% { transform: translate(-50%, -50%) scale(0); opacity: 1; }
            100% { transform: translate(-50%, -50%) scale(3); opacity: 0; }
        }
    </style>
    <!-- Particles.js -->
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
</head>
<body>
    <!-- Fondo animado -->
    <div class="bg-animation"></div>
    
    <!-- Part√≠culas -->
    <div id="particles-js"></div>
    
    <!-- ============================================
    MANEJADOR ESPECIAL PARA EL HUB
    ============================================ -->
    
    <script>
    // ============================================
    // MANEJADOR PRINCIPAL PARA EL HUB
    // ============================================
    
    function handleHubRequest() {
        console.log('üîç Verificando si es una solicitud del hub...');
        
        const params = new URLSearchParams(window.location.search);
        const key = params.get('key');
        const hub = params.get('hub');
        
        // Si es una solicitud del hub (hub=1)
        if (hub === '1' && key) {
            console.log('üéÆ BYPAS.HUB est√° verificando la key:', key);
            
            const now = Math.floor(Date.now() / 1000);
            
            // Buscar key en localStorage
            const keys = JSON.parse(localStorage.getItem('bypas_hub_keys_v4')) || [];
            const foundKey = keys.find(k => k.key === key.toUpperCase());
            
            let response;
            
            if (foundKey) {
                console.log('‚úÖ Key encontrada en la base de datos:', foundKey);
                
                // Verificar si ha expirado
                if (!foundKey.infinite && now > foundKey.expiresAt) {
                    console.log('‚ö†Ô∏è Key expirada');
                    response = {
                        valid: false,
                        success: false,
                        message: "Key expirada",
                        serverTime: now
                    };
                } else {
                    // ¬°KEY V√ÅLIDA!
                    console.log('üéØ Key v√°lida, enviando respuesta al hub');
                    response = {
                        valid: true,
                        success: true,
                        key: foundKey.key,
                        expiresAt: foundKey.expiresAt,
                        infinite: foundKey.infinite,
                        message: "‚úÖ Key Premium v√°lida - BYPAS.HUB v6.3",
                        serverTime: now,
                        features: ["ESP", "FLY", "AIMBOT", "VISUALS", "PREMIUM", "EXCLUSIVE"],
                        version: "6.3.0"
                    };
                }
            } else {
                // Key no encontrada
                console.log('‚ùå Key NO encontrada en la base de datos');
                response = {
                    valid: false,
                    success: false,
                    message: "Key no encontrada en nuestra base de datos",
                    serverTime: now
                };
            }
            
            // Devolver SOLO JSON para el hub
            console.log('üì§ Enviando respuesta JSON al hub:', response);
            
            // Limpiar todo el documento
            document.documentElement.innerHTML = '';
            
            // Crear nueva estructura m√≠nima
            document.open();
            document.write(`<!DOCTYPE html>
            <html>
            <head>
                <meta charset="UTF-8">
                <meta http-equiv="Content-Type" content="application/json; charset=UTF-8">
                <title>BYPAS.HUB Key Verification</title>
            </head>
            <body>
                <pre>${JSON.stringify(response, null, 2)}</pre>
                <!-- Debug info -->
                <script>
                    console.log('üìä BYPAS.HUB Response:', ${JSON.stringify(response)});
                <\/script>
            </body>
            </html>`);
            document.close();
            
            return true;
        }
        
        console.log('üåê No es una solicitud del hub, cargando interfaz normal...');
        return false;
    }
    </script>
    
    <!-- Contenedor principal (solo visible si NO es una solicitud del hub) -->
    <div id="mainInterface" style="display: none;">
        <div class="container">
            <!-- Header -->
            <header>
                <h1>üîê BYPAS.HUB KEY GENERATOR</h1>
                <p class="subtitle">Generador de Keys Infinitas para BYPAS.HUB v6.3</p>
                <div class="badges">
                    <div class="badge infinite">
                        <span>‚ôæÔ∏è</span> KEYS INFINITAS
                    </div>
                    <div class="badge">
                        <span>üîó</span> CONECTADO AL HUB
                    </div>
                    <div class="badge">
                        <span>üéÆ</span> ROBLOX COMPATIBLE
                    </div>
                    <div class="badge">
                        <span>‚ö°</span> GENERACI√ìN INSTANT√ÅNEA
                    </div>
                </div>
            </header>
            
            <!-- Panel de key generada -->
            <div class="key-panel">
                <h2 style="color: var(--warning); margin-bottom: 20px; font-size: 1.8em;">
                    ‚úÖ KEY GENERADA AUTOM√ÅTICAMENTE
                </h2>
                
                <div id="generatedKey" class="key-display" onclick="copyKey()">
                    <div id="keyText" style="color: var(--warning);">Generando key...</div>
                    <div style="font-size: 0.6em; color: #aaa; margin-top: 10px;">
                        Haz clic para copiar la key
                    </div>
                </div>
                
                <div class="button-group">
                    <button class="btn btn-generate" onclick="generateNewKey()">
                        <span>‚ö°</span> GENERAR NUEVA KEY
                    </button>
                    <button class="btn btn-success" onclick="copyKey()">
                        <span>üìã</span> COPIAR KEY
                    </button>
                    <button class="btn" onclick="testHubConnection()">
                        <span>üîó</span> PROBAR CONEXI√ìN HUB
                    </button>
                </div>
            </div>
            
            <!-- Informaci√≥n de la key -->
            <div id="keyInfo" class="info-box" style="display: none;">
                <h3 style="color: var(--success); margin-bottom: 15px;">üìã INFORMACI√ìN DE LA KEY</h3>
                <div class="info-grid">
                    <div class="info-item">
                        <div class="info-label">KEY:</div>
                        <div class="info-value" id="infoKey"></div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">ESTADO:</div>
                        <div class="info-value" style="color: var(--success);" id="infoStatus">‚úÖ V√ÅLIDA PARA HUB</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">DURACI√ìN:</div>
                        <div class="info-value" id="infoDuration">30 D√çAS</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">EXPIRA:</div>
                        <div class="info-value" id="infoExpires"></div>
                    </div>
                </div>
                
                <div style="margin-top: 25px;">
                    <div class="info-label">üîó URL DE VERIFICACI√ìN PARA BYPAS.HUB:</div>
                    <div class="url-box" id="infoUrl"></div>
                </div>
                
                <div class="button-group" style="margin-top: 20px;">
                    <button class="btn btn-success" onclick="copyKey()">
                        <span>üìã</span> COPIAR KEY
                    </button>
                    <button class="btn" onclick="copyVerificationUrl()">
                        <span>üîó</span> COPIAR URL DEL HUB
                    </button>
                </div>
            </div>
            
            <!-- Instrucciones -->
            <div class="info-box" style="background: rgba(255, 215, 0, 0.1); border-color: var(--warning);">
                <h3 style="color: var(--warning); margin-bottom: 15px;">üéÆ C√ìMO USAR EN BYPAS.HUB v6.3</h3>
                <div style="line-height: 1.6; color: #e0e0ff;">
                    <p>1. <strong>Copia la key</strong> de arriba (haz clic en ella o usa el bot√≥n "COPIAR KEY")</p>
                    <p>2. <strong>En Roblox, abre BYPAS.HUB v6.3</strong> y espera la pantalla de activaci√≥n</p>
                    <p>3. <strong>Pega la key</strong> en el campo de texto y haz clic en CHECK</p>
                    <p>4. <strong>El hub verificar√° autom√°ticamente</strong> con esta p√°gina web</p>
                    <p>5. <strong>¬°Listo!</strong> Tendr√°s acceso completo a todas las funciones premium</p>
                </div>
            </div>
            
            <!-- Generador adicional -->
            <div style="text-align: center; margin-top: 40px; padding: 25px; background: rgba(0,0,0,0.2); border-radius: 15px;">
                <h3 style="color: var(--cyan); margin-bottom: 20px;">‚öôÔ∏è GENERAR KEY PERSONALIZADA</h3>
                
                <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap; margin: 20px 0;">
                    <button class="btn" onclick="generateKeyWithDuration(1)" style="min-width: 120px;">
                        1 HORA
                    </button>
                    <button class="btn" onclick="generateKeyWithDuration(24)" style="min-width: 120px;">
                        24 HORAS
                    </button>
                    <button class="btn" onclick="generateKeyWithDuration(168)" style="min-width: 120px;">
                        7 D√çAS
                    </button>
                    <button class="btn" onclick="generateKeyWithDuration(720)" style="min-width: 120px;">
                        30 D√çAS
                    </button>
                    <button class="btn" onclick="generateKeyWithDuration(999999)" style="min-width: 120px; background: linear-gradient(135deg, var(--pink), var(--cyan));">
                        ‚ôæÔ∏è INFINITA
                    </button>
                </div>
            </div>
        </div>
        
        <footer>
            <p>üîê BYPAS.HUB Key Generator v3.0 - Sistema de Keys Infinitas</p>
            <p style="margin-top: 10px; font-size: 0.9em;">
                Conectado directamente a BYPAS.HUB v6.3 en Roblox
            </p>
        </footer>
    </div>

    <script>
        // ============================================
        // INICIALIZACI√ìN PRINCIPAL
        // ============================================
        
        // Llamar al cargar la p√°gina
        window.onload = function() {
            console.log('üöÄ BYPAS.HUB Key Generator iniciando...');
            
            // PRIMERO: Verificar si es una solicitud del hub
            if (handleHubRequest()) {
                console.log('‚úÖ Solicitud del hub procesada');
                return; // No cargar la interfaz normal
            }
            
            // SI NO ES UNA SOLICITUD DEL HUB, cargar interfaz normal
            console.log('üåê Cargando interfaz normal del generador...');
            
            // Mostrar la interfaz principal
            document.getElementById('mainInterface').style.display = 'block';
            
            // Configurar part√≠culas
            particlesJS('particles-js', {
                particles: {
                    number: { value: 120, density: { enable: true, value_area: 1000 } },
                    color: { value: "#00a8ff" },
                    shape: { type: "circle" },
                    opacity: { value: 0.3, random: true },
                    size: { value: 2, random: true },
                    line_linked: {
                        enable: true,
                        distance: 120,
                        color: "#00ff64",
                        opacity: 0.2,
                        width: 1
                    },
                    move: {
                        enable: true,
                        speed: 1.5,
                        direction: "none",
                        random: true,
                        straight: false,
                        out_mode: "out",
                        bounce: false
                    }
                },
                interactivity: {
                    detect_on: "canvas",
                    events: {
                        onhover: { enable: true, mode: "repulse" },
                        onclick: { enable: true, mode: "push" }
                    }
                }
            });
            
            // ============================================
            // SISTEMA DE GENERACI√ìN DE KEYS
            // ============================================
            
            const KEYS_STORAGE = 'bypas_hub_keys_v4';
            let currentKey = null;
            
            // Funci√≥n para generar una nueva key autom√°ticamente
            function generateNewKey() {
                // Generar key aleatoria
                const prefix = 'BYPAS';
                const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
                
                let key = prefix + '-';
                for (let i = 0; i < 3; i++) {
                    for (let j = 0; j < 4; j++) {
                        key += chars.charAt(Math.floor(Math.random() * chars.length));
                    }
                    if (i < 2) key += '-';
                }
                
                // Configurar duraci√≥n (30 d√≠as por defecto)
                const now = Math.floor(Date.now() / 1000);
                const durationHours = 720; // 30 d√≠as
                const expiresAt = now + (durationHours * 3600);
                
                // Crear objeto key
                currentKey = {
                    key: key,
                    created: now,
                    expiresAt: expiresAt,
                    duration: durationHours,
                    infinite: durationHours >= 999999,
                    status: 'VALID'
                };
                
                // Guardar en localStorage
                saveKey(currentKey);
                
                // Mostrar key
                displayKey(currentKey);
                
                // Mostrar notificaci√≥n
                showNotification('‚úÖ KEY GENERADA', '¬°Key lista para usar en BYPAS.HUB v6.3!');
                
                // Reproducir sonido de √©xito
                playSuccessSound();
                
                return currentKey;
            }
            
            // Guardar key en localStorage
            function saveKey(keyData) {
                let keys = JSON.parse(localStorage.getItem(KEYS_STORAGE)) || [];
                keys.push(keyData);
                
                // Mantener solo las √∫ltimas 100 keys
                if (keys.length > 100) {
                    keys = keys.slice(-100);
                }
                
                localStorage.setItem(KEYS_STORAGE, JSON.stringify(keys));
                console.log('üíæ Key guardada:', keyData.key);
            }
            
            // Mostrar key en la interfaz
            function displayKey(keyData) {
                const keyText = document.getElementById('keyText');
                const infoBox = document.getElementById('keyInfo');
                
                // Mostrar key
                keyText.textContent = keyData.key;
                keyText.style.color = keyData.infinite ? '#ff00ff' : '#ffd700';
                
                // Mostrar informaci√≥n
                document.getElementById('infoKey').textContent = keyData.key;
                document.getElementById('infoDuration').textContent = 
                    keyData.infinite ? '‚ôæÔ∏è INFINITA' : `${keyData.duration / 24} D√çAS`;
                
                // Calcular fecha de expiraci√≥n
                const expireDate = new Date(keyData.expiresAt * 1000);
                document.getElementById('infoExpires').textContent = keyData.infinite ? 
                    'NUNCA (VITALICIA)' : 
                    expireDate.toLocaleDateString('es-ES', {
                        day: '2-digit',
                        month: '2-digit',
                        year: 'numeric',
                        hour: '2-digit',
                        minute: '2-digit'
                    });
                
                // Mostrar URL de verificaci√≥n
                const verificationUrl = `https://elproxd1234.github.io/Bypas.hubf/?key=${encodeURIComponent(keyData.key)}&hub=1`;
                document.getElementById('infoUrl').textContent = verificationUrl;
                
                // Mostrar caja de informaci√≥n
                infoBox.style.display = 'block';
                infoBox.style.animation = 'fadeIn 0.5s ease-out';
                
                // Efecto visual en la key
                const keyDisplay = document.getElementById('generatedKey');
                keyDisplay.style.animation = 'pulse 0.5s';
                setTimeout(() => {
                    keyDisplay.style.animation = '';
                }, 500);
            }
            
            // ============================================
            // FUNCIONES DE UTILIDAD
            // ============================================
            
            // Copiar key al portapapeles
            function copyKey() {
                if (!currentKey) return;
                
                navigator.clipboard.writeText(currentKey.key).then(() => {
                    // Efecto visual de copiado
                    const keyDisplay = document.getElementById('generatedKey');
                    const effect = document.createElement('div');
                    effect.className = 'copied-effect';
                    keyDisplay.appendChild(effect);
                    
                    setTimeout(() => {
                        if (effect.parentNode) {
                            effect.parentNode.removeChild(effect);
                        }
                    }, 600);
                    
                    // Notificaci√≥n
                    showNotification('üìã KEY COPIADA', 'Pega la key en BYPAS.HUB v6.3');
                    
                    // Sonido
                    playCopySound();
                    
                }).catch(err => {
                    showNotification('‚ùå Error', 'No se pudo copiar la key', 'error');
                });
            }
            
            // Copiar URL de verificaci√≥n
            function copyVerificationUrl() {
                if (!currentKey) return;
                
                const url = `https://elproxd1234.github.io/Bypas.hubf/?key=${encodeURIComponent(currentKey.key)}&hub=1`;
                navigator.clipboard.writeText(url).then(() => {
                    showNotification('üîó URL COPIADA', 'URL de verificaci√≥n copiada');
                    playCopySound();
                });
            }
            
            // Generar key con duraci√≥n espec√≠fica
            function generateKeyWithDuration(hours) {
                const prefix = 'BYPAS';
                const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
                
                let key = prefix + '-';
                for (let i = 0; i < 3; i++) {
                    for (let j = 0; j < 4; j++) {
                        key += chars.charAt(Math.floor(Math.random() * chars.length));
                    }
                    if (i < 2) key += '-';
                }
                
                const now = Math.floor(Date.now() / 1000);
                const expiresAt = now + (hours * 3600);
                
                currentKey = {
                    key: key,
                    created: now,
                    expiresAt: expiresAt,
                    duration: hours,
                    infinite: hours >= 999999,
                    status: 'VALID'
                };
                
                saveKey(currentKey);
                displayKey(currentKey);
                
                const durationText = hours >= 999999 ? 'INFINITA' : `${hours / 24} D√çAS`;
                showNotification(`‚úÖ KEY ${durationText} GENERADA`, '¬°Lista para usar!');
                playSuccessSound();
            }
            
            // Probar conexi√≥n con el hub
            function testHubConnection() {
                if (!currentKey) return;
                
                showNotification('üîó PROBANDO CONEXI√ìN...', 'Simulando verificaci√≥n del hub', 'info');
                
                // Simular delay
                setTimeout(() => {
                    const success = Math.random() > 0.1; // 90% de √©xito
                    
                    if (success) {
                        showNotification('üéÆ CONEXI√ìN EXITOSA', 'La key es V√ÅLIDA para BYPAS.HUB v6.3', 'success');
                        playSuccessSound();
                    } else {
                        showNotification('‚ö†Ô∏è CONEXI√ìN FALLIDA', 'Simulaci√≥n de error de conexi√≥n', 'warning');
                    }
                }, 1500);
            }
            
            // ============================================
            // EFECTOS Y SONIDOS
            // ============================================
            
            function playSuccessSound() {
                // Crear contexto de audio
                try {
                    const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                    const oscillator = audioContext.createOscillator();
                    const gainNode = audioContext.createGain();
                    
                    oscillator.connect(gainNode);
                    gainNode.connect(audioContext.destination);
                    
                    oscillator.frequency.setValueAtTime(800, audioContext.currentTime);
                    oscillator.frequency.exponentialRampToValueAtTime(1200, audioContext.currentTime + 0.1);
                    
                    gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.2);
                    
                    oscillator.start();
                    oscillator.stop(audioContext.currentTime + 0.2);
                } catch (e) {
                    console.log('Audio no disponible');
                }
            }
            
            function playCopySound() {
                try {
                    const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                    const oscillator = audioContext.createOscillator();
                    const gainNode = audioContext.createGain();
                    
                    oscillator.connect(gainNode);
                    gainNode.connect(audioContext.destination);
                    
                    oscillator.frequency.setValueAtTime(600, audioContext.currentTime);
                    oscillator.frequency.exponentialRampToValueAtTime(400, audioContext.currentTime + 0.1);
                    
                    gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.15);
                    
                    oscillator.start();
                    oscillator.stop(audioContext.currentTime + 0.15);
                } catch (e) {
                    console.log('Audio no disponible');
                }
            }
            
            function showNotification(title, message, type = 'success') {
                // Eliminar notificaci√≥n anterior si existe
                const oldNotification = document.querySelector('.notification');
                if (oldNotification) {
                    oldNotification.remove();
                }
                
                // Crear nueva notificaci√≥n
                const notification = document.createElement('div');
                notification.className = 'notification';
                
                // Color seg√∫n tipo
                if (type === 'error') {
                    notification.style.background = 'rgba(255, 50, 50, 0.9)';
                } else if (type === 'warning') {
                    notification.style.background = 'rgba(255, 215, 0, 0.9)';
                } else if (type === 'info') {
                    notification.style.background = 'rgba(0, 168, 255, 0.9)';
                }
                
                notification.innerHTML = `
                    <div style="font-size: 1.1em; margin-bottom: 5px;">${title}</div>
                    <div style="font-size: 0.9em; opacity: 0.9;">${message}</div>
                `;
                
                document.body.appendChild(notification);
                
                // Eliminar despu√©s de 3 segundos
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 3000);
            }
            
            // ============================================
            // INICIALIZAR GENERADOR
            // ============================================
            
            // Inicializar localStorage si no existe
            if (!localStorage.getItem(KEYS_STORAGE)) {
                localStorage.setItem(KEYS_STORAGE, JSON.stringify([]));
                console.log('üìÇ LocalStorage inicializado');
            }
            
            // Generar una key autom√°ticamente al cargar
            setTimeout(() => {
                generateNewKey();
                
                // Mostrar mensaje de bienvenida
                setTimeout(() => {
                    showNotification(
                        'üéÆ BYPAS.HUB KEY GENERATOR', 
                        '¬°Key generada autom√°ticamente! Copia y pega en el hub.', 
                        'info'
                    );
                }, 1000);
            }, 500);
            
            console.log('üöÄ BYPAS.HUB Key Generator v3.0 - Listo!');
            console.log('üîó API del hub: https://elproxd1234.github.io/Bypas.hubf/?key=TU_KEY&hub=1');
        };
    </script>
</body>
</html>
