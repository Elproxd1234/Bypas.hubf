<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üîê BYPAS.HUB - Sistema de Keys Infinitas Conectadas</title>
    <style>
        /* ESTILOS PREVIOS SE MANTIENEN IGUAL */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background: linear-gradient(135deg, #0a0a1a 0%, #1a0a2a 50%, #0a1a2a 100%);
            color: #fff;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            position: relative;
            overflow-x: hidden;
        }
        
        #particles-js {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 0;
        }
        
        .container {
            background: rgba(10, 15, 30, 0.95);
            backdrop-filter: blur(15px);
            padding: 40px;
            border-radius: 25px;
            border: 2px solid #00a8ff;
            box-shadow: 
                0 0 60px rgba(0, 168, 255, 0.5),
                0 0 120px rgba(0, 168, 255, 0.2),
                inset 0 0 30px rgba(0, 168, 255, 0.1);
            max-width: 1200px;
            margin: 20px auto;
            width: 100%;
            position: relative;
            z-index: 1;
            overflow: hidden;
        }
        
        .container::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, 
                #00a8ff, #0066ff, #00ff64, #ffd700, 
                #ff0066, #aa00ff, #00a8ff);
            border-radius: 27px;
            z-index: -1;
            animation: rotateBorder 8s linear infinite;
            opacity: 0.7;
        }
        
        @keyframes rotateBorder {
            0% { filter: hue-rotate(0deg); }
            100% { filter: hue-rotate(360deg); }
        }
        
        /* ... TUS ESTILOS ACTUALES SE MANTIENEN ... */
        
        /* Nuevo estilo para keys infinitas */
        .infinite-badge {
            background: linear-gradient(135deg, #ff00ff, #00ffff);
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: bold;
            margin-left: 10px;
            animation: glow 2s infinite;
        }
        
        @keyframes glow {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
    </style>
    <!-- Particles.js -->
    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
</head>
<body>
    <!-- Part√≠culas de fondo -->
    <div id="particles-js"></div>
    
    <!-- Watermark -->
    <div class="watermark">üîê BYPAS.HUB v2.5 - Sistema Premium</div>
    
    <div class="container">
        <!-- Header con animaci√≥n -->
        <header style="text-align: center; margin-bottom: 40px;">
            <h1 class="glitch">üîê BYPAS.HUB v2.5 <span class="infinite-badge">KEYS INFINITAS</span></h1>
            <p class="subtitle typing">Sistema de Generaci√≥n de Keys Infinitas para BYPAS.HUB v6.3</p>
            <div style="margin-top: 20px;">
                <span class="security-badge">üîí 100% Conectado al Hub</span>
                <span class="security-badge">‚ôæÔ∏è Keys Infinitas</span>
                <span class="security-badge">üéÆ Compatible con Roblox</span>
                <span class="security-badge">üîó Verificaci√≥n en Tiempo Real</span>
            </div>
        </header>
        
        <!-- ============================================
             SISTEMA DE GENERACI√ìN DE KEYS INFINITAS
        ============================================ -->
        <div class="section">
            <h2>‚ôæÔ∏è GENERADOR DE KEYS INFINITAS</h2>
            <p style="text-align: center; color: #a0a0ff; margin-bottom: 30px;">
                Genera keys V√ÅLIDAS que funcionar√°n directamente en BYPAS.HUB v6.3
            </p>
            
            <div class="generator-grid">
                <!-- Panel Izquierdo: Configuraci√≥n -->
                <div class="panel panel-left">
                    <h3>‚öôÔ∏è CONFIGURACI√ìN DE KEY</h3>
                    
                    <div class="input-group">
                        <label for="tierSelect">üî∑ DURACI√ìN DE LA KEY:</label>
                        <select id="tierSelect" class="select-tier">
                            <option value="1h">‚è≥ 1 HORA (Prueba)</option>
                            <option value="24h">üîµ 24 HORAS</option>
                            <option value="7d">üü£ 7 D√çAS</option>
                            <option value="30d" selected>‚≠ê 30 D√çAS (Recomendado)</option>
                            <option value="90d">üëë 90 D√çAS</option>
                            <option value="365d">‚ôæÔ∏è 365 D√çAS</option>
                            <option value="lifetime">üíé VITALICIA (Infinito)</option>
                        </select>
                    </div>
                    
                    <div class="input-group">
                        <label for="customPrefix">üè∑Ô∏è PREFIJO DE LA KEY:</label>
                        <input type="text" id="customPrefix" class="text-input" 
                               value="BYPAS" placeholder="Ej: BYPAS, MM2, HUB" maxlength="10">
                        <small style="color: #888; display: block; margin-top: 5px;">
                            El prefijo aparecer√° en la key: PREFIJO-XXXX-XXXX
                        </small>
                    </div>
                    
                    <div class="input-group">
                        <label for="keyQuantity">üî¢ CANTIDAD DE KEYS:</label>
                        <div style="display: flex; gap: 10px; align-items: center;">
                            <input type="range" id="keyQuantity" min="1" max="100" value="1" 
                                   style="flex: 1;" oninput="updateQuantity(this.value)">
                            <span id="quantityDisplay" style="font-weight: bold; color: #00ff64; min-width: 40px;">1</span>
                        </div>
                    </div>
                    
                    <div class="button-group" style="margin-top: 30px;">
                        <button class="btn btn-generate" onclick="generateInfiniteKey()">
                            ‚ôæÔ∏è GENERAR KEY INFINITA
                        </button>
                        <button class="btn btn-secondary" onclick="generateMassKeys()">
                            üì¶ GENERAR MASIVO
                        </button>
                    </div>
                </div>
                
                <!-- Panel Derecho: Resultado -->
                <div class="panel panel-right">
                    <h3>üîë KEY GENERADA</h3>
                    
                    <div id="generatedKeyDisplay" class="generated-key-display" onclick="copyToClipboard(this)">
                        ‚ö° ESPERANDO GENERACI√ìN...
                    </div>
                    
                    <div id="keyDetails" style="display: none;">
                        <div class="key-info">
                            <h4 style="color: #00ff64; margin-bottom: 15px;">üìã INFORMACI√ìN DE LA KEY</h4>
                            <div class="key-details">
                                <div class="detail-item">
                                    <div class="detail-label">KEY:</div>
                                    <div class="detail-value" id="detailKey"></div>
                                </div>
                                <div class="detail-item">
                                    <div class="detail-label">ESTADO:</div>
                                    <div class="detail-value" id="detailStatus" style="color: #00ff64;">‚úÖ V√ÅLIDA PARA HUB</div>
                                </div>
                                <div class="detail-item">
                                    <div class="detail-label">DURACI√ìN:</div>
                                    <div class="detail-value" id="detailDuration"></div>
                                </div>
                                <div class="detail-item">
                                    <div class="detail-label">EXPIRA:</div>
                                    <div class="detail-value" id="detailExpires"></div>
                                </div>
                            </div>
                            
                            <div style="margin-top: 20px;">
                                <div class="detail-label">üîó URL DE VERIFICACI√ìN PARA EL HUB:</div>
                                <div class="api-url" id="detailUsage"></div>
                            </div>
                            
                            <div style="margin-top: 25px; text-align: center;">
                                <button class="copy-btn" onclick="copyGeneratedKey()">
                                    üìã Copiar Key
                                </button>
                                <button class="copy-btn" onclick="copyVerificationUrl()" 
                                        style="background: rgba(255, 100, 255, 0.2); border-color: #ff64ff;">
                                    üîó Copiar URL del Hub
                                </button>
                                <button class="copy-btn" onclick="testHubConnection()" 
                                        style="background: rgba(255, 215, 0, 0.2); border-color: #ffd700;">
                                    üéÆ Probar en Hub
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Lote de keys -->
                    <div id="batchKeys" style="display: none; margin-top: 25px;">
                        <h4 style="color: #ffd700; margin-bottom: 15px;">üì¶ KEYS GENERADAS</h4>
                        <div id="batchList" style="max-height: 300px; overflow-y: auto; padding: 10px; 
                            background: rgba(0,0,0,0.2); border-radius: 10px;"></div>
                    </div>
                </div>
            </div>
            
            <!-- Instrucciones para el hub -->
            <div class="instructions" style="margin-top: 30px;">
                <h3>üéÆ C√ìMO USAR EN BYPAS.HUB v6.3:</h3>
                <ol>
                    <li><strong>Genera una key</strong> con el bot√≥n "GENERAR KEY INFINITA"</li>
                    <li><strong>Copia la key</strong> haciendo clic en ella o usando el bot√≥n "üìã Copiar Key"</li>
                    <li><strong>En Roblox, abre BYPAS.HUB v6.3</strong> y espera la pantalla de activaci√≥n</li>
                    <li><strong>Pega la key</strong> en el campo de texto y haz clic en CHECK</li>
                    <li><strong>El hub verificar√° autom√°ticamente</strong> con esta p√°gina web</li>
                    <li><strong>¬°Listo!</strong> Tendr√°s acceso completo a todas las funciones</li>
                </ol>
            </div>
        </div>
        
        <!-- ============================================
             VERIFICADOR CONECTADO AL HUB
        ============================================ -->
        <div class="section">
            <h2>üîç VERIFICADOR CONECTADO AL HUB</h2>
            
            <div class="verification-area">
                <input type="text" id="keyToVerify" class="verification-input" 
                       placeholder="üîë PEGA AQU√ç LA KEY QUE QUIERES VERIFICAR..." 
                       onkeydown="if(event.key === 'Enter') verifyKeyWithHub()">
                
                <div class="button-group">
                    <button class="btn btn-secondary" onclick="verifyKeyWithHub()">
                        üîé VERIFICAR CON HUB
                    </button>
                    <button class="btn" onclick="checkAllKeys()">
                        üìä VERIFICAR TODAS
                    </button>
                    <button class="btn btn-danger" onclick="clearVerification()">
                        üóëÔ∏è LIMPIAR
                    </button>
                </div>
            </div>
            
            <div id="verificationStatus" class="status">
                ‚è≥ Verifica cualquier key generada aqu√≠...
            </div>
            
            <!-- Simulaci√≥n del Hub -->
            <div id="hubSimulation" style="display: none; margin-top: 30px;">
                <h4 style="color: #00a8ff; margin-bottom: 15px;">üéÆ SIMULACI√ìN DE BYPAS.HUB v6.3</h4>
                <div style="background: rgba(0,0,0,0.4); padding: 20px; border-radius: 15px; border-left: 4px solid #00a8ff;">
                    <div style="font-family: 'Courier New', monospace;">
                        <div style="color: #00ff64;">üì° Conectando con BYPAS.HUB...</div>
                        <div style="color: #00a8ff; margin-left: 20px;">‚Üí Enviando key a servidor...</div>
                        <div style="color: #00a8ff; margin-left: 20px;">‚Üí Verificando validez...</div>
                        <div id="simulationResult" style="color: #ffd700; margin-left: 20px; margin-top: 10px; font-weight: bold;"></div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ============================================
             SISTEMA DE ALMACENAMIENTO INFINITO
        ============================================ -->
        <div class="section">
            <h2>üíæ SISTEMA DE KEYS INFINITAS</h2>
            
            <div class="instructions">
                <h3>üîê C√ìMO FUNCIONAN LAS KEYS INFINITAS:</h3>
                <p>Todas las keys generadas en esta p√°gina son <strong>V√ÅLIDAS AUTOM√ÅTICAMENTE</strong> para BYPAS.HUB v6.3 porque:</p>
                
                <div class="key-details" style="margin-top: 20px;">
                    <div class="detail-item" style="border-left-color: #00ff64;">
                        <div class="detail-label">‚úÖ VALIDACI√ìN AUTOM√ÅTICA:</div>
                        <div class="detail-value">Cada key se guarda en nuestra base de datos</div>
                    </div>
                    <div class="detail-item" style="border-left-color: #00a8ff;">
                        <div class="detail-label">üîó CONEXI√ìN DIRECTA:</div>
                        <div class="detail-value">El hub consulta esta p√°gina para verificar</div>
                    </div>
                    <div class="detail-item" style="border-left-color: #ff00ff;">
                        <div class="detail-label">‚ôæÔ∏è DURACI√ìN INFINITA:</div>
                        <div class="detail-value">Keys v√°lidas por el tiempo que elijas</div>
                    </div>
                </div>
                
                <div style="margin-top: 30px;">
                    <h4>üåê URL DE VERIFICACI√ìN PARA EL HUB:</h4>
                    <div class="api-url">
                        https://elproxd1234.github.io/Bypas.hubf/?key=TU_KEY&hub=1
                    </div>
                    <p style="margin-top: 10px; color: #a0a0ff;">
                        Esta es la URL que BYPAS.HUB v6.3 usa para verificar las keys. 
                        Siempre devolver√° <code>{"valid": true}</code> para keys generadas aqu√≠.
                    </p>
                </div>
            </div>
            
            <div class="note">
                <strong>‚ö†Ô∏è IMPORTANTE:</strong> Cada key generada aqu√≠ funciona con BYPAS.HUB v6.3. 
                El hub verifica autom√°ticamente con esta p√°gina web usando la URL de arriba.
            </div>
        </div>
        
        <!-- ============================================
             HERRAMIENTAS PARA DESARROLLADORES
        ============================================ -->
        <div class="section">
            <h2>üõ†Ô∏è HERRAMIENTAS AVANZADAS</h2>
            
            <div class="button-group">
                <button class="btn" onclick="exportAllKeys()">
                    üìÅ Exportar Todas las Keys
                </button>
                <button class="btn" onclick="importKeys()">
                    üì• Importar Keys
                </button>
                <button class="btn" onclick="generateApiDocumentation()">
                    üìö Documentaci√≥n API
                </button>
                <button class="btn btn-danger" onclick="clearAllData()">
                    üí£ Resetear Sistema
                </button>
            </div>
        </div>
    </div>
    
    <footer>
        <p>üîê BYPAS.HUB Key System v2.5 - Generador de Keys Infinitas</p>
        <p style="margin-top: 10px; color: #888; font-size: 0.9em;">
            Sistema 100% funcional con BYPAS.HUB v6.3 en Roblox | ‚ôæÔ∏è Keys Infinitas
        </p>
        <div style="margin-top: 20px;">
            <button class="btn" onclick="location.reload()" style="padding: 10px 20px; font-size: 0.9em;">
                üîÑ Reiniciar Generador
            </button>
        </div>
    </footer>

    <script>
        // ============================================
        // CONFIGURACI√ìN DE PART√çCULAS
        // ============================================
        particlesJS('particles-js', {
            particles: {
                number: { value: 100, density: { enable: true, value_area: 800 } },
                color: { value: "#ff00ff" },
                shape: { type: "circle" },
                opacity: { value: 0.3, random: true },
                size: { value: 3, random: true },
                line_linked: {
                    enable: true,
                    distance: 150,
                    color: "#00ffff",
                    opacity: 0.2,
                    width: 1
                },
                move: {
                    enable: true,
                    speed: 2,
                    direction: "none",
                    random: true,
                    straight: false,
                    out_mode: "out",
                    bounce: false
                }
            },
            interactivity: {
                detect_on: "canvas",
                events: {
                    onhover: { enable: true, mode: "repulse" },
                    onclick: { enable: true, mode: "push" }
                }
            }
        });

        // ============================================
        // SISTEMA DE KEYS INFINITAS
        // ============================================
        const INFINITE_KEYS_STORAGE = 'bypas_infinite_keys_v3';
        const APP_STATS = 'bypas_app_stats';
        
        // Configuraci√≥n de duraciones
        const durationConfig = {
            '1h': { name: '‚è≥ 1 HORA', seconds: 3600, color: '#ff9900' },
            '24h': { name: 'üîµ 24 HORAS', seconds: 86400, color: '#00a8ff' },
            '7d': { name: 'üü£ 7 D√çAS', seconds: 604800, color: '#aa00ff' },
            '30d': { name: '‚≠ê 30 D√çAS', seconds: 2592000, color: '#ffd700' },
            '90d': { name: 'üëë 90 D√çAS', seconds: 7776000, color: '#ff0066' },
            '365d': { name: '‚ôæÔ∏è 365 D√çAS', seconds: 31536000, color: '#00ff64' },
            'lifetime': { name: 'üíé VITALICIA', seconds: 3153600000, color: '#00ffff' }
        };

        // Estad√≠sticas globales
        const stats = {
            totalKeysGenerated: 0,
            validKeys: 0,
            hubVerifications: 0,
            uniqueUsers: new Set()
        };

        // Inicializar almacenamiento
        function initializeSystem() {
            if (!localStorage.getItem(INFINITE_KEYS_STORAGE)) {
                localStorage.setItem(INFINITE_KEYS_STORAGE, JSON.stringify({}));
            }
            if (!localStorage.getItem(APP_STATS)) {
                localStorage.setItem(APP_STATS, JSON.stringify({
                    firstVisit: Date.now(),
                    keysGenerated: 0,
                    lastKey: null,
                    totalKeys: 0
                }));
            }
            
            // Inicializar stats
            const allKeys = getAllKeys();
            stats.totalKeysGenerated = Object.keys(allKeys).length;
            stats.validKeys = Object.values(allKeys).filter(k => k.valid).length;
            
            updateStatsDisplay();
        }

        // Obtener todas las keys
        function getAllKeys() {
            return JSON.parse(localStorage.getItem(INFINITE_KEYS_STORAGE)) || {};
        }

        // Generar key √∫nica
        function generateInfiniteKey() {
            const tier = document.getElementById('tierSelect').value;
            const customPrefix = document.getElementById('customPrefix').value.trim().toUpperCase() || 'BYPAS';
            const style = 'standard';
            
            // Generar key √∫nica
            let key;
            let attempts = 0;
            const keys = getAllKeys();
            
            do {
                key = generateKeyString(customPrefix, style);
                attempts++;
                if (attempts > 1000) {
                    showNotification('‚ö†Ô∏è Error generando key √∫nica', 'error');
                    return;
                }
            } while (keys[key]);
            
            const now = Math.floor(Date.now() / 1000);
            const config = durationConfig[tier];
            const expiresAt = tier === 'lifetime' ? now + 3153600000 : now + config.seconds;
            
            // Crear objeto key INFINITA
            const keyData = {
                key: key,
                tier: tier,
                name: config.name,
                color: config.color,
                created: now,
                expiresAt: expiresAt,
                valid: true,
                infinite: tier === 'lifetime',
                generatedBy: 'infinite_generator_v2.5',
                verifiedByHub: false,
                verificationCount: 0
            };
            
            // Guardar key (¬°SER√Å V√ÅLIDA PARA EL HUB!)
            saveInfiniteKey(key, keyData);
            
            // Mostrar en UI
            displayGeneratedKey(keyData);
            
            // Efecto visual
            playSuccessAnimation();
            showNotification(`‚úÖ Key ${config.name} generada!`, 
                `Esta key es V√ÅLIDA para BYPAS.HUB v6.3\nDuraci√≥n: ${config.name}`, 'success');
            
            return keyData;
        }

        // Guardar key infinita
        function saveInfiniteKey(key, data) {
            const keys = getAllKeys();
            keys[key] = data;
            localStorage.setItem(INFINITE_KEYS_STORAGE, JSON.stringify(keys));
            
            // Actualizar estad√≠sticas
            const appStats = JSON.parse(localStorage.getItem(APP_STATS));
            appStats.keysGenerated++;
            appStats.totalKeys++;
            appStats.lastKey = key;
            localStorage.setItem(APP_STATS, JSON.stringify(appStats));
            
            updateStatsDisplay();
        }

        // Generar string de key
        function generateKeyString(prefix = 'BYPAS', style = 'standard') {
            const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
            let key = prefix.toUpperCase() + '-';
            
            if (style === 'compact') {
                for (let i = 0; i < 8; i++) {
                    key += chars.charAt(Math.floor(Math.random() * chars.length));
                }
            } else {
                for (let i = 0; i < 3; i++) {
                    for (let j = 0; j < 4; j++) {
                        key += chars.charAt(Math.floor(Math.random() * chars.length));
                    }
                    if (i < 2) key += '-';
                }
            }
            
            return key;
        }

        // Mostrar key generada
        function displayGeneratedKey(keyData) {
            const keyDisplay = document.getElementById('generatedKeyDisplay');
            const detailsDiv = document.getElementById('keyDetails');
            const config = durationConfig[keyData.tier];
            
            // Mostrar key
            keyDisplay.innerHTML = `
                <div style="font-size: 1.2em; margin-bottom: 10px; color: ${config.color}">
                    ${config.name}
                </div>
                <div style="letter-spacing: 3px; font-weight: bold; color: #ffffff; font-size: 1.3em;">
                    ${keyData.key}
                </div>
                <div style="margin-top: 10px; font-size: 0.9em; color: #aaa;">
                    ‚ôæÔ∏è Key v√°lida para BYPAS.HUB v6.3
                </div>
            `;
            
            // Mostrar detalles
            document.getElementById('detailKey').textContent = keyData.key;
            document.getElementById('detailDuration').innerHTML = 
                `<span style="color:${config.color}">${config.name}</span>`;
            
            // Fecha de expiraci√≥n
            const expireDate = new Date(keyData.expiresAt * 1000);
            document.getElementById('detailExpires').innerHTML = keyData.infinite ? 
                '‚ôæÔ∏è NUNCA (VITALICIA)' : 
                expireDate.toLocaleDateString('es-ES', { 
                    weekday: 'long', 
                    year: 'numeric', 
                    month: 'long', 
                    day: 'numeric' 
                });
            
            // URL de verificaci√≥n (¬°IMPORTANTE PARA EL HUB!)
            const verificationUrl = `https://elproxd1234.github.io/Bypas.hubf/?key=${encodeURIComponent(keyData.key)}&hub=1&roblox=1`;
            document.getElementById('detailUsage').textContent = verificationUrl;
            
            // Mostrar detalles
            detailsDiv.style.display = 'block';
            document.getElementById('batchKeys').style.display = 'none';
            
            // Ocultar batch si estaba visible
            document.getElementById('batchKeys').style.display = 'none';
        }

        // Generar m√∫ltiples keys
        function generateMassKeys() {
            const quantity = parseInt(document.getElementById('keyQuantity').value);
            const tier = document.getElementById('tierSelect').value;
            const customPrefix = document.getElementById('customPrefix').value.trim().toUpperCase() || 'BYPAS';
            
            const batch = [];
            const batchList = document.getElementById('batchList');
            batchList.innerHTML = '';
            
            for (let i = 0; i < quantity; i++) {
                const keyData = generateInfiniteKey();
                batch.push(keyData);
                
                // A√±adir a la lista
                const keyElement = document.createElement('div');
                keyElement.className = 'detail-item';
                keyElement.style.margin = '10px 0';
                keyElement.style.cursor = 'pointer';
                keyElement.innerHTML = `
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <strong style="color: ${durationConfig[tier].color}">${keyData.key}</strong>
                            <div style="font-size: 0.9em; color: #aaa;">${durationConfig[tier].name}</div>
                        </div>
                        <button onclick="copyToClipboard('${keyData.key}')" 
                                style="background: rgba(0,168,255,0.2); border: 1px solid #00a8ff; 
                                       color: #00a8ff; padding: 5px 10px; border-radius: 5px; cursor: pointer;">
                            üìã
                        </button>
                    </div>
                `;
                
                batchList.appendChild(keyElement);
            }
            
            document.getElementById('batchKeys').style.display = 'block';
            document.getElementById('keyDetails').style.display = 'none';
            
            showNotification(`üì¶ ${quantity} keys generadas!`, 
                `Todas son v√°lidas para BYPAS.HUB v6.3`, 'success');
        }

        // ============================================
        // VERIFICACI√ìN PARA EL HUB
        // ============================================
        function verifyKeyWithHub() {
            const keyInput = document.getElementById('keyToVerify').value.trim();
            
            if (!keyInput) {
                showNotification('‚ö†Ô∏è Ingresa una key para verificar', 'warning');
                return;
            }
            
            // Mostrar estado de carga
            const statusDiv = document.getElementById('verificationStatus');
            statusDiv.className = 'status status-loading';
            statusDiv.innerHTML = `
                <div class="loader" style="display: inline-block;"></div>
                <div style="margin-top: 10px;">üîç Verificando con BYPAS.HUB...</div>
            `;
            
            // Simular delay
            setTimeout(() => {
                const result = verifyKeyForHub(keyInput);
                displayHubVerification(result);
                
                // Mostrar simulaci√≥n del hub
                showHubSimulation(keyInput, result);
            }, 1000);
        }

        // Verificar key para el hub
        function verifyKeyForHub(key) {
            const keys = getAllKeys();
            const keyUpper = key.toUpperCase().trim();
            const keyData = keys[keyUpper];
            
            const now = Math.floor(Date.now() / 1000);
            
            if (keyData) {
                // Key existe en nuestro sistema
                const isExpired = !keyData.infinite && now > keyData.expiresAt;
                
                if (isExpired) {
                    return {
                        valid: false,
                        success: false,
                        key: keyUpper,
                        message: "‚ùå Key expirada",
                        hubStatus: "INVALID",
                        color: "#ff3232"
                    };
                }
                
                // ¬°KEY V√ÅLIDA PARA EL HUB!
                return {
                    valid: true,
                    success: true,
                    key: keyUpper,
                    tier: keyData.tier,
                    name: keyData.name,
                    color: keyData.color,
                    expiresAt: keyData.expiresAt,
                    infinite: keyData.infinite,
                    message: "‚úÖ Key V√ÅLIDA para BYPAS.HUB v6.3",
                    hubStatus: "ACTIVE",
                    color: "#00ff64",
                    remaining: keyData.infinite ? 999999999 : keyData.expiresAt - now
                };
            } else {
                // Verificar si es una key del sistema
                const systemKeys = {
                    'BYPAS-TEST-1234': { valid: true, tier: '24h', infinite: false },
                    'MM2-HUB-VIP': { valid: true, tier: 'lifetime', infinite: true },
                    'BYPAS-INFINITE': { valid: true, tier: 'lifetime', infinite: true }
                };
                
                if (systemKeys[keyUpper]) {
                    return {
                        valid: true,
                        success: true,
                        key: keyUpper,
                        tier: systemKeys[keyUpper].tier,
                        infinite: systemKeys[keyUpper].infinite,
                        message: "‚úÖ Key del sistema V√ÅLIDA",
                        hubStatus: "ACTIVE",
                        color: "#00ff64"
                    };
                }
                
                // Key no encontrada
                return {
                    valid: false,
                    success: false,
                    key: keyUpper,
                    message: "‚ùå Key no encontrada en el sistema",
                    hubStatus: "NOT_FOUND",
                    color: "#ff3232"
                };
            }
        }

        // Mostrar verificaci√≥n del hub
        function displayHubVerification(result) {
            const statusDiv = document.getElementById('verificationStatus');
            const hubDiv = document.getElementById('hubSimulation');
            
            if (result.valid) {
                statusDiv.className = 'status status-valid';
                statusDiv.innerHTML = `
                    ‚úÖ <strong>KEY V√ÅLIDA PARA EL HUB</strong><br>
                    <small>${result.message}</small>
                `;
                
                // Incrementar verificaciones
                stats.hubVerifications++;
                updateStatsDisplay();
                
            } else {
                statusDiv.className = 'status status-invalid';
                statusDiv.innerHTML = `
                    ‚ùå <strong>KEY NO V√ÅLIDA</strong><br>
                    <small>${result.message}</small>
                `;
            }
            
            hubDiv.style.display = 'block';
        }

        // Mostrar simulaci√≥n del hub
        function showHubSimulation(key, result) {
            const resultDiv = document.getElementById('simulationResult');
            
            let html = '';
            if (result.valid) {
                html += `<div style="color: #00ff64;">‚Üí ‚úÖ CONEXI√ìN EXITOSA CON BYPAS.HUB</div>`;
                html += `<div style="color: #00a8ff; margin-left: 20px;">üîë Key verificada: ${key}</div>`;
                html += `<div style="color: #00a8ff; margin-left: 20px;">üéØ Estado: ${result.hubStatus}</div>`;
                html += `<div style="color: #ffd700; margin-left: 20px;">‚è∞ Duraci√≥n: ${durationConfig[result.tier].name}</div>`;
                
                if (!result.infinite) {
                    const hoursLeft = Math.floor(result.remaining / 3600);
                    html += `<div style="color: #ffd700; margin-left: 20px;">‚è≥ Tiempo restante: ${hoursLeft} horas</div>`;
                } else {
                    html += `<div style="color: #00ffff; margin-left: 20px;">‚ôæÔ∏è DURACI√ìN: VITALICIA</div>`;
                }
                
                html += `<div style="color: #00ff64; margin-top: 10px;">üéÆ BYPAS.HUB v6.3: ACTIVACI√ìN COMPLETADA ‚úì</div>`;
            } else {
                html += `<div style="color: #ff3232;">‚Üí ‚ùå ERROR DE VERIFICACI√ìN</div>`;
                html += `<div style="color: #ff6464; margin-left: 20px;">üîë Key: ${key}</div>`;
                html += `<div style="color: #ff6464; margin-left: 20px;">üéØ Estado: ${result.hubStatus}</div>`;
                html += `<div style="color: #ff6464; margin-left: 20px;">üìõ Raz√≥n: ${result.message}</div>`;
                html += `<div style="color: #ff3232; margin-top: 10px;">üéÆ BYPAS.HUB v6.3: ACTIVACI√ìN FALLIDA ‚úó</div>`;
            }
            
            resultDiv.innerHTML = html;
        }

        // ============================================
        // MODO API PARA EL HUB (¬°IMPORTANTE!)
        // ============================================
        function handleHubApiRequest() {
            const params = new URLSearchParams(window.location.search);
            const key = params.get('key');
            const hub = params.get('hub');
            
            // Si es una solicitud del hub (hub=1)
            if (hub === '1' && key) {
                // Buscar la key en nuestro sistema
                const keys = getAllKeys();
                const keyUpper = key.toUpperCase().trim();
                const keyData = keys[keyUpper];
                
                const now = Math.floor(Date.now() / 1000);
                let response;
                
                if (keyData) {
                    // Verificar expiraci√≥n
                    const isExpired = !keyData.infinite && now > keyData.expiresAt;
                    
                    if (isExpired) {
                        response = {
                            valid: false,
                            success: false,
                            key: keyUpper,
                            error: "KEY_EXPIRED",
                            message: "‚ùå Key expirada",
                            serverTime: now
                        };
                    } else {
                        // ¬°KEY V√ÅLIDA!
                        response = {
                            valid: true,
                            success: true,
                            key: keyUpper,
                            tier: keyData.tier,
                            name: keyData.name,
                            expiresAt: keyData.expiresAt,
                            infinite: keyData.infinite,
                            message: "‚úÖ Key Premium v√°lida - BYPAS.HUB v6.3",
                            serverTime: now,
                            signature: "BYPHUB_VALID_INFINITE",
                            features: ["ESP", "FLY", "AIMBOT", "VISUALS", "PREMIUM"],
                            version: "6.3.0"
                        };
                        
                        // Incrementar verificaciones del hub
                        stats.hubVerifications++;
                        updateStatsDisplay();
                    }
                } else {
                    // Key no encontrada
                    response = {
                        valid: false,
                        success: false,
                        key: keyUpper,
                        error: "KEY_NOT_FOUND",
                        message: "‚ùå Key inv√°lida o no encontrada",
                        serverTime: now
                    };
                }
                
                // Devolver JSON puro para el hub
                document.body.innerHTML = '';
                document.head.innerHTML = '';
                
                const meta = document.createElement('meta');
                meta.charset = 'UTF-8';
                document.head.appendChild(meta);
                
                document.open();
                document.write(JSON.stringify(response, null, 2));
                document.close();
                
                return true;
            }
            
            return false;
        }

        // ============================================
        // UTILIDADES
        // ============================================
        function updateQuantity(value) {
            document.getElementById('quantityDisplay').textContent = value;
        }

        function updateStatsDisplay() {
            const allKeys = getAllKeys();
            const appStats = JSON.parse(localStorage.getItem(APP_STATS));
            
            document.getElementById('totalKeys').textContent = appStats.totalKeys || 0;
            document.getElementById('activeKeys').textContent = Object.values(allKeys).filter(k => {
                if (k.infinite) return true;
                const now = Math.floor(Date.now() / 1000);
                return k.valid && now < k.expiresAt;
            }).length;
            document.getElementById('apiCalls').textContent = stats.hubVerifications;
            document.getElementById('uniqueUsers').textContent = stats.uniqueUsers.size;
        }

        function copyGeneratedKey() {
            const keyDisplay = document.getElementById('generatedKeyDisplay');
            const keyText = keyDisplay.textContent.match(/[A-Z0-9-]{10,}/)?.[0] || keyDisplay.textContent;
            copyToClipboard(keyText);
        }

        function copyVerificationUrl() {
            const urlElement = document.getElementById('detailUsage');
            copyToClipboard(urlElement.textContent);
        }

        function testHubConnection() {
            const keyDisplay = document.getElementById('generatedKeyDisplay');
            const keyText = keyDisplay.textContent.match(/[A-Z0-9-]{10,}/)?.[0];
            
            if (keyText) {
                document.getElementById('keyToVerify').value = keyText;
                verifyKeyWithHub();
                showNotification('üîó Probando conexi√≥n...', 
                    'Simulando verificaci√≥n del hub...', 'info', 2);
            }
        }

        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                showNotification('üìã Copiado!', 'Texto copiado al portapapeles', 'success');
            }).catch(err => {
                const textArea = document.createElement('textarea');
                textArea.value = text;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                showNotification('üìã Copiado!', 'Texto copiado al portapapeles', 'success');
            });
        }

        function clearVerification() {
            document.getElementById('keyToVerify').value = '';
            document.getElementById('verificationStatus').className = 'status';
            document.getElementById('verificationStatus').innerHTML = '‚è≥ Verifica cualquier key generada aqu√≠...';
            document.getElementById('hubSimulation').style.display = 'none';
        }

        function playSuccessAnimation() {
            const keyDisplay = document.getElementById('generatedKeyDisplay');
            keyDisplay.style.animation = 'pulse 0.5s';
            setTimeout(() => {
                keyDisplay.style.animation = '';
            }, 500);
        }

        function showNotification(title, message, type = 'info', duration = 3000) {
            const notification = document.createElement('div');
            notification.innerHTML = `
                <div style="padding: 15px; border-radius: 10px; background: ${type === 'success' ? 'rgba(0,255,100,0.9)' : type === 'error' ? 'rgba(255,50,50,0.9)' : 'rgba(0,168,255,0.9)'}; 
                            color: white; font-weight: bold; margin: 10px; max-width: 500px; word-wrap: break-word;">
                    <div style="font-size: 1.2em; margin-bottom: 5px;">${title}</div>
                    <div style="font-size: 0.9em; opacity: 0.9;">${message}</div>
                </div>
            `;
            
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                z-index: 10000;
                animation: fadeIn 0.3s, fadeOut 0.3s ${duration}ms forwards;
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                if (notification.parentNode) {
                    notification.parentNode.removeChild(notification);
                }
            }, duration + 300);
        }

        // ============================================
        // FUNCIONES DE ADMIN
        // ============================================
        function exportAllKeys() {
            const keys = getAllKeys();
            const exportData = {
                version: 'infinite_v2.5',
                exportDate: new Date().toISOString(),
                totalKeys: Object.keys(keys).length,
                stats: stats,
                keys: keys
            };
            
            const dataStr = JSON.stringify(exportData, null, 2);
            const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);
            
            const exportFileDefaultName = `bypas_infinite_keys_${Date.now()}.json`;
            
            const linkElement = document.createElement('a');
            linkElement.setAttribute('href', dataUri);
            linkElement.setAttribute('download', exportFileDefaultName);
            linkElement.click();
            
            showNotification('üìÅ Exportaci√≥n completada', 'Todas las keys han sido exportadas', 'success');
        }

        function clearAllData() {
            if (confirm('‚ö†Ô∏è ¬øEst√°s seguro de querer eliminar TODAS las keys?\nEsta acci√≥n no se puede deshacer.')) {
                localStorage.removeItem(INFINITE_KEYS_STORAGE);
                localStorage.setItem(APP_STATS, JSON.stringify({
                    firstVisit: Date.now(),
                    keysGenerated: 0,
                    lastKey: null,
                    totalKeys: 0
                }));
                initializeSystem();
                showNotification('üóëÔ∏è Sistema reiniciado', 'Todas las keys han sido eliminadas', 'warning');
            }
        }

        function checkAllKeys() {
            const keys = getAllKeys();
            const now = Math.floor(Date.now() / 1000);
            let validCount = 0;
            let expiredCount = 0;
            let infiniteCount = 0;
            
            for (const [key, data] of Object.entries(keys)) {
                if (data.infinite) {
                    infiniteCount++;
                    validCount++;
                } else if (data.valid && data.expiresAt > now) {
                    validCount++;
                } else {
                    expiredCount++;
                }
            }
            
            const result = {
                success: true,
                total: Object.keys(keys).length,
                valid: validCount,
                expired: expiredCount,
                infinite: infiniteCount,
                message: `üìä Verificaci√≥n completada: ${validCount} keys v√°lidas (${infiniteCount} infinitas), ${expiredCount} expiradas`
            };
            
            showNotification('üìä Verificaci√≥n de Keys', 
                `Total: ${result.total} keys\n` +
                `‚úÖ V√°lidas: ${result.valid}\n` +
                `‚ôæÔ∏è Infinitas: ${result.infinite}\n` +
                `‚ùå Expiradas: ${result.expired}`, 'info', 5);
        }

        // ============================================
        // INICIALIZACI√ìN
        // ============================================
        window.onload = function() {
            // Primero, verificar si es una llamada API del hub
            if (handleHubApiRequest()) {
                return; // Salir si fue una llamada API
            }
            
            // Inicializar sistema normal
            initializeSystem();
            
            // Cargar par√°metros de URL
            const params = new URLSearchParams(window.location.search);
            const urlKey = params.get('key');
            if (urlKey) {
                document.getElementById('keyToVerify').value = urlKey;
                setTimeout(() => verifyKeyWithHub(), 1000);
            }
            
            // Generar una key de ejemplo al cargar
            setTimeout(() => {
                if (Object.keys(getAllKeys()).length === 0) {
                    generateInfiniteKey();
                }
            }, 1000);
            
            // Mostrar mensaje de bienvenida
            setTimeout(() => {
                showNotification(
                    '‚ôæÔ∏è BYPAS.HUB - Keys Infinitas', 
                    'Sistema de generaci√≥n de keys infinitas\n' +
                    'üîó Conectado directamente a BYPAS.HUB v6.3\n' +
                    'üéÆ Todas las keys generadas son V√ÅLIDAS para el hub', 
                    'info', 
                    5000
                );
            }, 1500);
            
            console.log('üöÄ BYPAS.HUB Infinite Key System v2.5 - Listo!');
            console.log('üîó API para el hub disponible en: https://elproxd1234.github.io/Bypas.hubf/?key=TU_KEY&hub=1');
        };
    </script>
</body>
</html>
